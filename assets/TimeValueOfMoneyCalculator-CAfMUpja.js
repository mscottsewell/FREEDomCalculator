import{r as C,j as e,C as j,a as M,b as R,c as b}from"./index-gnKVqa-9.js";import{L as v,I as N,C as B,t as p,i as G,f as W}from"./calculator-validation-DMt4ijBG.js";import{S as X,a as Y,b as z,c as H,d as V}from"./select-4ov_LXmk.js";import{R as J,A as Q,C as Z,X as _,Y as ee,T as te,a as k}from"./AreaChart-Cf_z84Tn.js";function le(){const[a,$]=C.useState({periods:20,interestRate:8,presentValue:-5e3,payment:-6e3,futureValue:1e6,solveFor:"futureValue"}),[F,x]=C.useState(null),[T,f]=C.useState(""),[D,w]=C.useState([]),U=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.abs(t)),S=t=>{if(t===""||t===null||t===void 0)return"";if(t==="-"||t==="-.")return t;const r=Number(t);return isNaN(r)?"":new Intl.NumberFormat("en-US").format(r)},I=t=>{if(t===""||t===null||t===void 0)return"";const r=t.replace(/,/g,"").trim();if(r==="")return"";if(r==="-"||r==="-.")return r;const s=Number(r);return isNaN(s)?"":s},L=(t,r,s,u)=>{let i=.1;const n=1e-6,m=100;for(let o=0;o<m;o++){if(i===0){const P=r+s*t+u;if(Math.abs(P)<n)return 0;i=.001;continue}const l=Math.pow(1+i,t),c=r*l+s*((l-1)/i)+u,h=r*t*Math.pow(1+i,t-1)+s*(t*Math.pow(1+i,t-1)/i-(l-1)/(i*i));if(Math.abs(c)<n)return i*100;if(Math.abs(h)<n)break;i=i-c/h,i<-.99&&(i=-.99)}return i*100},A=(t,r,s,u)=>{const i=t/100;if(i===0)return s===0?NaN:-(r+u)/s;let n=10;const m=1e-6,o=100;for(let l=0;l<o;l++){const c=Math.pow(1+i,n),h=r*c+s*((c-1)/i)+u,P=r*c*Math.log(1+i)+s*(c*Math.log(1+i)/i);if(Math.abs(h)<m)return n;if(Math.abs(P)<m)break;n=n-h/P,n<0&&(n=.1)}return n},E=()=>{f(""),x(null);const t=O();if(t){f(t);return}try{const r=p((a==null?void 0:a.periods)??0),s=p((a==null?void 0:a.interestRate)??0),u=p((a==null?void 0:a.presentValue)??0),i=p((a==null?void 0:a.payment)??0),n=p((a==null?void 0:a.futureValue)??0),{solveFor:m}=a,o=s/100;switch(m){case"futureValue":{let l;if(o===0)l=-(u+i*r);else{const c=Math.pow(1+o,r);l=-(u*c+i*((c-1)/o))}x(l);break}case"presentValue":{let l;if(o===0)l=-(n+i*r);else{const c=Math.pow(1+o,r);l=-(n+i*((c-1)/o))/c}x(l);break}case"payment":{let l;if(o===0)l=-(u+n)/r;else{const c=Math.pow(1+o,r);l=-(u*c+n)/((c-1)/o)}x(l);break}case"interestRate":{const l=L(r,u,i,n);isNaN(l)?f("Unable to solve for interest rate with given values"):x(l);break}case"periods":{const l=A(s,u,i,n);isNaN(l)||l<0?f("Unable to solve for periods with given values"):x(l);break}}K()}catch{f("Calculation error. Please check your inputs.")}},K=()=>{try{const t=p((a==null?void 0:a.periods)??0),r=p((a==null?void 0:a.interestRate)??0),s=p((a==null?void 0:a.presentValue)??0),u=p((a==null?void 0:a.payment)??0),i=r/100,n=Math.floor(t);if(n<=0||i<0){w([]);return}const m=[];let o=Math.abs(s),l=0;for(let c=0;c<=Math.min(n,100);c++)if(c===0)m.push({period:c,principal:o,interest:0});else if(i===0){const h=Math.abs(u);o+=h,m.push({period:c,principal:o,interest:l})}else{const h=o*i;l+=h,o=o*(1+i)+Math.abs(u),m.push({period:c,principal:o-l,interest:l})}w(m)}catch{w([])}},O=()=>{const r=["periods","interestRate","presentValue","payment","futureValue"].filter(s=>s!==(a==null?void 0:a.solveFor));for(const s of r){const u=a==null?void 0:a[s];if(!G(u))return`Please enter a valid ${W(s)}`}return null},g=(t,r)=>{$(s=>({...{periods:(s==null?void 0:s.periods)??"",interestRate:(s==null?void 0:s.interestRate)??"",presentValue:(s==null?void 0:s.presentValue)??"",payment:(s==null?void 0:s.payment)??"",futureValue:(s==null?void 0:s.futureValue)??"",solveFor:(s==null?void 0:s.solveFor)??"futureValue"},[t]:r})),t==="solveFor"&&(x(null),f(""),w([]))},q=()=>{if(F===null)return"N/A";switch(a.solveFor){case"interestRate":return`${F.toFixed(2)}%`;case"periods":return`${F.toFixed(1)} periods`;default:return U(F)}},y=t=>a.solveFor===t?"":a[t],d=t=>a.solveFor===t;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"solve-for",children:"Solve For"}),e.jsxs(X,{value:a.solveFor,onValueChange:t=>g("solveFor",t),children:[e.jsx(Y,{id:"solve-for",children:e.jsx(z,{})}),e.jsxs(H,{children:[e.jsx(V,{value:"periods",children:"Periods (N)"}),e.jsx(V,{value:"interestRate",children:"Interest Rate (%)"}),e.jsx(V,{value:"presentValue",children:"Present Value (PV)"}),e.jsx(V,{value:"payment",children:"Payment (PMT)"}),e.jsx(V,{value:"futureValue",children:"Future Value (FV)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"periods",children:"Number of Periods (N)"}),e.jsx(N,{id:"periods",type:"number",value:y("periods"),onChange:t=>g("periods",t.target.value===""?"":Number(t.target.value)),disabled:d("periods"),placeholder:d("periods")?"Solving for Number of Periods (N)":"",className:d("periods")?"bg-gray-700 text-white placeholder:text-white placeholder:italic":""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"interest-rate",children:"Interest Rate (% per period)"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{id:"interest-rate",type:"number",step:"0.1",value:y("interestRate"),onChange:t=>g("interestRate",t.target.value===""?"":Number(t.target.value)),disabled:d("interestRate"),placeholder:d("interestRate")?"Solving For Interest Rate":"",className:`${d("interestRate")?"bg-gray-700 text-white placeholder:text-white placeholder:italic":""} pr-8`}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-sm text-muted-foreground",children:"%"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"present-value",children:"Present Value (PV) - Cash Outflow Negative"}),e.jsx(N,{id:"present-value",type:"text",value:S(y("presentValue")),onChange:t=>g("presentValue",I(t.target.value)),disabled:d("presentValue"),placeholder:d("presentValue")?"Solving For Present Value (PV)":"",className:d("presentValue")?"bg-gray-700 text-white placeholder:text-white placeholder:italic":""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"payment",children:"Payment (PMT) - Cash Outflow Negative"}),e.jsx(N,{id:"payment",type:"text",value:S(y("payment")),onChange:t=>g("payment",I(t.target.value)),disabled:d("payment"),placeholder:d("payment")?"Solving For Payment (PMT)":"",className:d("payment")?"bg-gray-700 text-white placeholder:text-white placeholder:italic":""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"future-value",children:"Future Value (FV)"}),e.jsx(N,{id:"future-value",type:"text",value:S(y("futureValue")),onChange:t=>g("futureValue",I(t.target.value)),disabled:d("futureValue"),placeholder:d("futureValue")?"Solving For Future Value (FV)":"",className:d("futureValue")?"bg-gray-700 text-white placeholder:text-white placeholder:italic":""})]})]}),e.jsx(B,{onCalculate:E}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs(j,{className:"w-full md:w-1/3",children:[e.jsx(M,{children:e.jsxs(R,{className:"text-xl",children:["Result: ",(()=>{switch(a.solveFor){case"periods":return"Periods (N)";case"interestRate":return"Interest Rate (%)";case"presentValue":return"Present Value (PV)";case"payment":return"Payment (PMT)";case"futureValue":return"Future Value (FV)";default:return""}})()]})}),e.jsx(b,{children:T?e.jsx("div",{className:"text-destructive font-semibold",children:T}):e.jsx("div",{className:"text-3xl font-bold currency-blue",children:q()})})]}),e.jsx(j,{className:"w-full md:w-2/3",children:e.jsx(b,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Cash Flow Convention:"})," Use negative values for cash outflows (money you pay) and positive values for cash inflows (money you receive)."]}),e.jsx("br",{}),e.jsx("p",{children:e.jsx("strong",{children:"Investment Example:"})}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[e.jsx("li",{children:"PV: Initial investment: Use negative (e.g., -10,000)"}),e.jsx("li",{children:"PMT: Additional investment per period: Use negative (e.g., -500)"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Loan Example:"})}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[e.jsx("li",{children:"PV: Amount of Loan: Use positive (e.g., 10,000)"}),e.jsx("li",{children:"PMT: Total of Payments made per period: Use negative (e.g., -500)"})]})]})})})]}),D.length>0&&e.jsxs(j,{children:[e.jsx(M,{children:e.jsx(R,{className:"text-lg",children:"Growth Visualization Over Time"})}),e.jsx(b,{children:e.jsx("div",{className:"h-64",children:e.jsx(J,{width:"100%",height:"100%",children:e.jsxs(Q,{data:D,children:[e.jsx(Z,{strokeDasharray:"3 3"}),e.jsx(_,{dataKey:"period",label:{value:"Periods (N)",position:"insideBottom",offset:-5}}),e.jsx(ee,{tickFormatter:t=>`$${(t/1e3).toFixed(0)}k`,label:{value:"Amount",angle:-90,position:"insideLeft"}}),e.jsx(te,{formatter:(t,r)=>[`$${t.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`,r==="principal"?"Principal":"Interest Earned"],labelFormatter:t=>`Period ${t}`,content:({active:t,payload:r,label:s})=>{var u,i;if(t&&r&&r.length){const n=((u=r.find(l=>l.dataKey==="principal"))==null?void 0:u.value)||0,m=((i=r.find(l=>l.dataKey==="interest"))==null?void 0:i.value)||0,o=n+m;return e.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg",children:[e.jsx("p",{className:"font-semibold",children:`Period ${s}`}),e.jsx("p",{className:"text-blue-600",children:`Principal: $${n.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`}),e.jsx("p",{className:"text-green-600",children:`Interest Earned: $${m.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`}),e.jsx("p",{className:"font-bold border-t pt-1 mt-1",children:`Total: $${o.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`})]})}return null}}),e.jsx(k,{type:"monotone",dataKey:"principal",stackId:"1",stroke:"#2563eb",fill:"#3b82f6",fillOpacity:.8,name:"principal"}),e.jsx(k,{type:"monotone",dataKey:"interest",stackId:"1",stroke:"#16a34a",fill:"#22c55e",fillOpacity:.8,name:"interest"})]})})})})]}),e.jsxs(j,{children:[e.jsx(M,{children:e.jsx(R,{className:"text-lg",children:"Understanding the Time Value of Money"})}),e.jsx(b,{children:e.jsx("p",{className:"text-sm leading-relaxed",children:"The time value of money means a dollar today is worth more than a dollar in the future because it can grow through interest or investment. This concept shows that the earlier you start saving, the less you need to set aside to reach your goals. It helps you calculate how much to save, based on a given interest rate, to meet future financial needs."})})]}),e.jsxs(j,{className:"bg-accent/5 border-accent/20",children:[e.jsx(M,{children:e.jsx(R,{className:"text-lg flex items-center gap-2",children:"ðŸ’¡ Key Lesson"})}),e.jsx(b,{children:e.jsxs("p",{className:"text-lg leading-relaxed font-medium",children:[e.jsx("strong",{children:"Time is your most valuable financial asset."}),` The time value of money is the foundation of all personal finance decisions. Whether saving for retirement, a house, or any major purchase, understanding that money grows over time can motivate you to make smarter choices. It explains why paying off high-interest debt quickly is crucial and why starting to save early is so powerful. Master this concept, and you'll understand why wealthy people often say that "time is money."`]})})]})]})}export{le as TimeValueOfMoneyCalculator};
